extends layout

block content
  h1= title
  div.form-group
    label(for='testTypeSelect') Test Type
    select.form-control#testTypeSelect
      option.t1 Compare a measure taken by two operators on different patients
      option.t2 Compare one operator checking measures twice in different patients
      option.t3 Compare two measures or methods for the same parameter in different patients
      option.t4 Compare a measurement made in the same patient under different conditions (e.g. rest and exercise)
      option.t5 Assess variation in sequential measurements by the same operator in the same patient (Repeatability)
  div.form-group
    label(for='dataTypeSelect') Type of Data
    select.form-control#dataTypeSelect
      option(selected) Continuous
      option Categorical
  div#measureTypeGroup.form-group
    label(for='measureTypeSelect') Measurement
    select.form-control#measureTypeSelect
      option AV Vmax (cm/s)
      option LVOT Vmax (cm/s)
      option AVA (cm²)
      option MVA (cm²)
      option PV Vmax (cm/s)
      option TR Vmax (cm/s)
      option Peak E Velocity (cm/s)
      option TDI (E/e')

  div#continuousEntry
    table.table
      thead
        tr
          th.noType Observation No.
          th.m1 Test 1 Measurement
          th.m2 Test 2 Measurement
          th(style='display:none;') Average Measurement
      tbody
        tr
          td 1
          td 
            input.valueInput(type='text' value='0')
          td 
            input.valueInput(type='text' value='0')
          td(style='display:none;')
            div.avg 0
          td
            span.fa.fa-remove(aria-hidden='true' onclick='javascript:removeRow(1);')

    button.btn.btn-info(onclick='addNewRow("continuousEntry")') Add new record
    button.btn.btn-primary(onclick='showResults("continuousEntry")') Update Results
    button.btn.btn-success#finalise(type='button' data-toggle='modal' data-target='#finaliseModal' disabled) Finalise & Get PDF

    div#finaliseModal.modal.fade(tabindex='-1' role='dialog' aria-labelledby='#finaliseModalLabel' aria-hidden='true')
      div.modal-dialog(role='document')
        div.modal-content
          div.modal-header
            h5#finaliseModalLabel.modal-title Extra Information for Final Analysis

          div.modal-body
            div.form-group
              label(for='countryInput') Country:
              input#countryInput(type='text')
              p need to get the details

          div.modal-footer
            button.btn.btn-secondary(type='button' data-dismiss='modal') Close
            button.btn.btn-primary(type='button' onclick='finaliseResults()') Submit

    label Load TSV File:
    input#fileInput.btn(type='file')

  div#categoricalEntry(style='display:none')
   table.table
    thead
      tr
        th.noType Observation No.
        th.m1 Operator 1
        th.m2 Operator 2
    tbody
      tr
        td 1
        td 
          div.form-group
            label(for='o1o1d') Severity
            select.form-control#o1o1d
              option Mild
              option Moderate
              option Severe
        td
          div.form-group
            label(for='o1o1d') Severity
            select.form-control#o1o1d
              option Mild
              option Moderate
              option Severe
        td
          span.fa.fa-remove(aria-hidden='true' onclick='javascript:removeRow(1);')

    button.btn.btn-info(onclick='addNewRow("categoricalEntry")') Add new record
    button.btn.btn-success(onclick='showResults("categoricalEntry")') Show Results

  div#results.row(style='display:none')
    div#continuousResults(style='display:none')
      div.row
        div.col-sm-6
          div#bland
          div#values
            div#bias Bias
            div#upper Upper limit
            div#lower Lower limit
        div.col-sm-6
          div#linear
          div#values
            div#gradient Equation:
            div#y y
            div#r r²
    div#categoricalResults(style='display:none')
      h2 Totals
      table.table
        thead
          th Judge 1 vs Judge 2
          th Mild
          th Moderate
          th Severe
          th Total (Judge 1)
        tbody
          tr
            th Mild
            td#Mild_Mild 0
            td#Mild_Moderate 0
            td#Mild_Severe 0
            td#Total_Mild 0
          tr 
            th Moderate
            td#Moderate_Mild 0
            td#Moderate_Moderate 0
            td#Moderate_Severe 0
            td#Total_Moderate 0
          tr
            th Severe
            td#Severe_Mild 0
            td#Severe_Moderate 0
            td#Severe_Severe 0
            td#Total_Severe 0
          tr
            th Total (Judge 2)
            td#Mild_Total 0
            td#Moderate_Total 0
            td#Severe_Total 0
            td#Total_Total 0

      h2 Agreements
      table.table
        thead
          th 
          th Mild
          th Moderate
          th Severe
          th Total
        tbody
          tr
            th Number of agreements
            td#Agree_Mild 0
            td#Agree_Moderate 0
            td#Agree_Severe 0
            td#Total_Agree 0
          tr#Chance_Row
            th Agreements due to chance
            td#Chance_Mild 0
            td#Chance_Moderate 0
            td#Chance_Severe 0
            td#Total_Chance 0
      p#Kappa

